/* =========================================
   HUMANIST MODERNISM TAILWIND CSS
   Main stylesheet with custom layers
   ========================================= */

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Base HTML elements with enhanced typography */
  html {
    @apply scroll-smooth;

    /* Enable OpenType features for professional typography - non-negotiable for refinement */
    font-feature-settings:
      "liga" 1,
      "kern" 1,
      "calt" 1;
    text-rendering: optimizelegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply font-sans bg-bg-primary;

    /* Increased base font size for humanist readability - 19-22px range */
    font-size: clamp(1.1875rem, 0.5vw + 1.0625rem, 1.375rem); /* text-body-lg: 19px → 22px */
    line-height: 1.8; /* Comfortable reading line-height */
    color: #383838; /* Warm near-black - softer than pure gray, complements warm background */

    /* Enhanced readability with text wrapping (when supported) */
    text-wrap: pretty;

    /* Global OpenType features for ligatures and kerning */
    font-feature-settings:
      "liga" 1,
      "kern" 1;
  }

  /* Headings with balanced text wrapping for better visual flow */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    text-wrap: balance;
    font-variant-numeric: lining-nums;
  }

  /* Heading hierarchy with refined spacing and sophisticated color shifts */
  h1 {
    @apply text-h1 font-semibold;

    color: #383838; /* Warm near-black - consistent with body for organic feel */
    margin-bottom: 1.5rem; /* 24px (3x8) - 3 baseline units for rhythm */
  }

  h2 {
    @apply text-h2 font-semibold;

    color: #383838; /* Consistent warm text - hierarchy through size, not color */
    margin-top: 3rem; /* 48px (6x8) - 6 baseline units for section breaks */
    margin-bottom: 1.5rem; /* 24px (3x8) - 3 baseline units before content */
  }

  h3 {
    @apply text-h3 font-semibold;

    color: #383838; /* Warm unified text color for natural, tactile feel */
    margin-top: 2rem; /* 32px (4x8) - 4 baseline units */
    margin-bottom: 1rem; /* 16px (2x8) - 2 baseline units */
  }

  h4 {
    @apply text-h4 font-semibold text-text-primary;

    margin-top: 1.5rem; /* 24px (3x8) - 3 baseline units */
    margin-bottom: 1rem; /* 16px (2x8) - 2 baseline units */
  }

  /* Paragraphs with optimal rhythm - locked to baseline grid */
  p {
    margin-bottom: 1.5rem; /* 24px (3x8) - increased spacing for breathing room */
    max-width: 72ch; /* Optimal reading measure for larger text */
    line-height: 1.8; /* Generous line-height for comfortable reading */

    /* Enable hyphenation on narrow screens only */
  }

  @media (width <= 640px) {
    p {
      hyphens: auto;
      hyphenate-limit-chars: 6 3 2;
    }
  }

  /* Links */
  a {
    @apply text-accent-primary transition-colors duration-base;
  }

  a:hover {
    @apply text-accent-hover;
  }

  /* Strong and emphasis */
  strong {
    @apply font-semibold;
  }

  em {
    @apply italic;
  }

  /* Focus states for accessibility */
  :focus-visible {
    @apply outline-2 outline-accent-primary outline-offset-4 rounded-soft;
  }

  /* Reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Navigation */
  .nav {
    @apply bg-bg-primary/95 border-b border-border-subtle sticky top-0 z-50 backdrop-blur-sm;
  }

  .nav-link {
    @apply block px-md py-sm text-body font-medium text-text-secondary rounded-soft transition-all duration-base;
  }

  .nav-link:hover,
  .nav-link.active {
    @apply bg-bg-secondary text-accent-primary;
  }

  /* Buttons with generous touch targets and organic, tactile interactions */
  .button-primary {
    @apply inline-flex items-center justify-center font-medium bg-accent-primary text-bg-primary 
           rounded-button transition-all duration-base;

    padding: 1rem 2rem; /* 16px × 32px - generous padding */
    min-height: 3rem; /* 48px - WCAG compliant touch target */
    line-height: 1.5;
    font-size: clamp(0.9375rem, 0.5vw + 0.75rem, 1.0625rem);
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 6%);
  }

  .button-primary:hover {
    background-color: #3e6656; /* Darker sage - tactile, responsive transition */
    transform: translateY(-1px);
    box-shadow:
      0 4px 6px -1px rgb(0 0 0 / 8%),
      0 2px 4px -1px rgb(0 0 0 / 4%);
  }

  .button-primary:active {
    transform: translateY(0);
  }

  .button-secondary {
    @apply inline-flex items-center justify-center font-medium bg-transparent text-accent-primary 
           rounded-button transition-all duration-base;

    padding: 1rem 2rem;
    min-height: 3rem;
    line-height: 1.5;
    font-size: clamp(0.9375rem, 0.5vw + 0.75rem, 1.0625rem);
    border: 1.5px solid currentcolor;
  }

  .button-secondary:hover {
    @apply bg-accent-primary text-bg-primary;

    border-color: #4a7766; /* Sage border for consistency */
  }

  /* Cards with softer shadows and generous padding */
  .card {
    @apply bg-bg-elevated rounded-card border border-border-light transition-all duration-base;

    padding: clamp(2rem, 4vw, 3rem); /* 32px → 48px */
    box-shadow:
      0 1px 3px 0 rgb(0 0 0 / 6%),
      0 1px 2px 0 rgb(0 0 0 / 4%);
  }

  .card:hover {
    transform: translateY(-2px);
    box-shadow:
      0 10px 15px -3px rgb(0 0 0 / 8%),
      0 4px 6px -2px rgb(0 0 0 / 4%);
  }

  /* Pull quotes - intentional grid break with gentle asymmetry */
  .pull-quote {
    @apply max-w-[680px] mx-auto border-l-[6px] border-accent-warm 
           bg-bg-secondary italic text-text-primary;

    margin-top: 4rem; /* 64px (8x8) - increased breathing room */
    margin-bottom: 4rem; /* 64px (8x8) */
    padding: 2.5rem 2rem; /* 40px vertical, 32px horizontal */
    border-radius: 0 8px 8px 0; /* Soft radius on right side only */
  }

  .quote-attribution {
    @apply block text-body-sm not-italic text-text-secondary font-medium;

    margin-top: 1rem; /* 16px (2x8) - 2 baseline units */
  }

  /* Lists */
  .principle-list {
    @apply list-none p-0 my-xl;
  }

  .principle-list li {
    @apply pl-xl mb-lg relative text-body leading-[1.7];
  }

  .principle-list li::before {
    @apply content-['→'] absolute left-0 text-accent-primary font-bold;
  }

  /* Page sections with generous, breathing whitespace - whitespace as framing device */
  .section {
    @apply py-4xl md:py-5xl; /* Mobile: 96px (12x8), Desktop: 144px (18x8) */

    padding-left: clamp(1.5rem, 5vw, 3rem);
    padding-right: clamp(1.5rem, 5vw, 3rem);
  }

  /* Content container with optimal reading width */
  .content-container {
    @apply max-w-container-comfortable mx-auto;

    padding-left: clamp(1rem, 3vw, 2rem);
    padding-right: clamp(1rem, 3vw, 2rem);
  }

  .section-title {
    @apply text-h2 font-semibold text-center;

    margin-bottom: clamp(2rem, 4vw, 3rem);
  }

  .subsection-title {
    @apply text-h3 font-semibold;

    margin-top: clamp(3rem, 6vw, 4.5rem);
    margin-bottom: clamp(1.5rem, 3vw, 2rem);
  }

  /* CTA sections */
  .cta-section {
    @apply mt-4xl p-2xl bg-bg-secondary rounded-card text-center;
  }

  /* Footer with generous spacing and warm atmosphere */
  .footer {
    @apply bg-bg-secondary border-t border-border-light mt-5xl;

    padding: clamp(4rem, 8vw, 6rem) clamp(1.5rem, 5vw, 3rem);
  }

  .footer-text {
    @apply leading-[1.7] text-text-muted;

    font-size: clamp(0.875rem, 0.5vw + 0.5rem, 1rem);
  }

  /* Timeline specific */
  .timeline-item {
    @apply relative pl-[140px] mb-4xl;
  }

  .timeline-marker {
    @apply absolute left-0 top-0 w-[120px] text-right pr-lg;
  }

  .timeline-year {
    @apply block text-h4 font-bold text-accent-primary leading-tight;
  }

  .timeline-content {
    @apply bg-bg-elevated p-xl rounded-card border border-border-light shadow-soft;
  }

  /* Typography Specimen Showcase */
  .type-specimen-showcase {
    @apply max-w-[900px] mx-auto;
  }

  .specimen-card {
    @apply transition-transform duration-base;
  }

  .specimen-card:hover {
    transform: translateY(-2px);
  }

  .specimen-display {
    /* Demonstrates actual humanist typography in use */
    font-feature-settings:
      "liga" 1,
      "kern" 1,
      "calt" 1;
    letter-spacing: -0.02em; /* Subtle optical adjustment for display sizes */
  }

  .specimen-body {
    font-feature-settings:
      "liga" 1,
      "kern" 1;
  }

  .specimen-meta {
    @apply border-t border-border-subtle pt-md mt-lg;
  }

  /* Real-World Example Cards */
  .example-card {
    @apply transition-all duration-base;
  }

  .example-card:hover {
    @apply shadow-soft-lg;

    transform: translateY(-4px);
  }

  .example-card img {
    @apply transition-transform duration-base;
  }

  .example-card:hover img {
    transform: scale(1.02);
  }
}

@layer utilities {
  /* Custom utilities */
  .leading-relaxed {
    line-height: 1.8;
  }

  .leading-tight {
    line-height: 1.2;
  }

  /* Paragraph spacing */
  .paragraph-spacing {
    margin-bottom: 1.5em;
  }
}
